<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>蓝色协议技术分享解读</title>
      <link href="//post/Bandai%20Namco%20Launcher%20technology.html"/>
      <url>//post/Bandai%20Namco%20Launcher%20technology.html</url>
      
        <content type="html"><![CDATA[<h2 id="描边"><a href="#描边" class="headerlink" title="描边"></a>描边</h2><p>它使用用模型扩边法绘制头部，并用后处理描边处理其他部分。</p><p>模型扩边用了单独储存共点平均法线的方式来修复分叉，是常见做法。它并没有继续解释，我在这补充一下，这个描边法线想在蒙皮网格上正常使用需要转到切线空间，或者直接储存在切线上。</p><p>如果想做得更好一点，还可以根据法线的角度方差来增强这部分的描线宽度，这样就能把发尖做出来。</p><p>后处理部分则是重点。后处理描边之前不适用主要是可控性差，而像二之国那样增加可控性会耗费比较高的成本。而它现在只用来绘制头部以外的部分，则降低了一定要求。</p><p>根据深度和粗细来控制线条的粗细是常用的做法，关键如何指定描边的粗细（通常内部会比外部细，小物体会比大物体细），而它没有给出任何解释。但即使是选择不控制粗细，至少也要通过Mask来屏蔽头部的后处理阴影。</p><p>我觉得或许是选择了多个采样点中深度最高的那个像素坐标的信息。这样做虽然在多个物体交会处会不准确，但大概率是OK的，毕竟大家的参数其实差别不大。颜色的定制也可以用这种方法，如果想节省带宽可以用LUT索引来取代具体的颜色值。</p><p>然后就是，它用的是外描边（忽略比自己深度低的部分的贡献），还是双侧都有？如果用外描边，好处就是和扩边描边表现比较一致，双侧则更容易实现描边的软过渡（消除锯齿）。但蓝色协议也可能是靠TAA来消除这部分锯齿的，所以不太好判断。我觉得是后者。</p><p>用色彩差异来生成内部描边。不过蓝色协议其实这些物件都是单独建模了的，本来就能生成大部分描边，只是因为后处理的深度差异太低了，需要利用这些数据强化描线的粗细。另外，原文表示描线的粗细是由这张图的亮度差决定的，画面结果也确实像是这样。但是用这种方式定义宽度必然容易产生冲突，而看结果，大部分情况生成的描边都是等宽的（clamp到最大值了？）</p><p>我觉得他们应该放弃了精确定义不同部位的描线粗细差异，就算有参数应该也只是屏蔽描边用。毕竟真需要纠结细节的时候，也可以直接换普通扩边描边。</p><p>它搞了一个逆光时亮部区域增大为70%来解决背部缺少光照的问题。</p><p>这是个办法，缺点就是逆光的时候轮廓光的感觉有点过强了，另一个方案是逆光扭转光源，缺点是转过阈值时会发生突变。</p><p>但这样做会导致亮部区域和自投影区域重叠了，那么它们实际上没有应用自投影？还是将自投影的Normal bais也一并扩大了？目前看，很可能是前者。但投影显然也是必须要有的，而他们用了固定的控制图和后处理阴影两种方式。</p><p>蓝色区域就是降低光照阈值的依据。在正面能够看到阴影，但是光照从下方发射时阴影就会消失。这个方案其实效果并没有真实投影好，既然这样做就说明并没有真实投影。</p><p>帽子的投影其实是通过偏移采样深度图来生成的（偏移一定距离采样深度和当前深度比较，高的话就是阴影），可以看到它异常地和投影物边缘保持了等宽。这其实已经是一种常用技法了，需要预先生成pre-depth，不需后处理，嘴上说成后处理只是一种让人容易理解的说辞。而这个种影子其实最适合的地方是额发的投影。</p><p>要我说的话……正常的投影还是需要有的，只有正常的投影才能处理裙子投腿，头发投背这样的情景，虽然大部分情况自投影需要屏蔽，但只有一处用，也该有。而处理好屏蔽物体自投影的问题也可以做到不和70%亮部冲突，虽然确实麻烦。现在这样也是他们自己权衡后的结果吧。</p><p>至于身体上标记的固定阴影区域，他们采用了差异不大时候融合，差异大时变得更暗的做法，让逆光时候也能看到这些阴影细节，不失为一个折中的好办法。</p><p>一般天光其实都是顶光（为了生成较少的建筑阴影），所以直接打人脸上都会完蛋。蓝色协议是直接在人物身上将天光方向拉平了50%，也就是仰角最多45度。这样倒是有挺多好处的，而且可以回避在逆光时，巨乳会被顶光单独照亮的问题（我是用自投影解决的）。</p><p>但有一说一，其实身体不少部分都更适合用顶光照明，比如手臂肩膀，平光产生的垂直阴影部分太少了。所以比较好的方法其实是身体正常打光，脸部单独修（然后就会出现照亮巨乳的和暗处的脸部不协调的问题）。</p><p>嘛，毕竟没自投影，也只能这样。</p><p>其实还有个脸部法线修正的问题。虽然他们没说，但也不一定没修。其实一般模型只要做的足够平滑，光照稍微往上拉一点，就足够形成良好的明暗边线了。所以也不太好判断。</p><p>他们强调了因为贴图精度问题而没有使用法线纹理，所以暗部的定制只能用上面提到的固定暗部纹理来实现。头发上肯定用了（在发瓣边缘涂深），脸上用没用也不好说。</p><p>这个则是他们比较有价值的设计。通常情况，我们都是专门给一张暗部纹理来表示暗部的色指定，虽然不算麻烦但终究是一个美术工作量。但暗部到底应该是什么样的颜色其实是有规律的，对于纯色贴图尤其如此。</p><p>所以他们做了一个变色工具，看界面，第一排的Hue R YR Y GY G……表示的其实是色环，那么数值就是某个Hue的颜色在暗部应当进行的偏色。后面的Saturation和Value则应该对应饱和度和明度，表示的也是暗部应该增减的饱和度和明度值，分为8档绘制了变化曲线。</p><p>我不知道是离线生成还是实时计算，其实都行。实时可以用LUT。</p><p>它这样有个好处是可以更方便地做服装染色。</p><p>而且对非赛璐璐风格的作品帮助更大，因为那些作品的贴图绘制成本较高。</p><h2 id="高光"><a href="#高光" class="headerlink" title="高光"></a>高光</h2><p>边缘光他们采用了和投影类似的深度检测法，以便生成固定宽度的边缘光，根据光照方向决定偏移距离即可。这个边缘光主要还是面光时出现，用于勾勒人物边缘。</p><p>他们为了做一个头发光点搞这么麻烦也是奇了。他们的目标是让光点随着镜头距离而缩小，并不会根据镜头角度移动，整个过程也和法线无关，和一般人想实现的各向异性效果完全不同。但为了实现它，使用了UV2单独为这些高光元素准备UV，这并不是为了拉直UV，而是为了精度和留出可供缩放的空白区域。</p><p>然后用一张RGBA控制图来处理。R通道是基本亮度，GB通道记录的是当前像素距离光斑中心点的距离值，A通道不明，有可能是缩放幅度。</p><p>具体做法是，当渲染一个像素时，根据读取到的BG通道数据，和当前UV相加，得到光斑中心。然后反过来减这个BG值同时进行一个根据距离的缩放。数值放大的时候，光斑在视觉上就会缩小。</p><p>这种做法可以确保光斑的边缘形状和R通道保持一致。</p><p>但是……离线生成这张图就要做不少工作，QQ号交易必须让人手动指定每个光点的中心然后生成控制图，而且在固定距离看，人物光斑其实并没有任何变化。</p><p>但这种方式似乎是可以做和Normal挂钩的缩放的。一般做法不行，是因为光斑上每个像素点的Normal是不同的，根据Normal缩放的程度就不同，会导致光斑扭曲。但它这个方案，每个点都可以找到一个共同的中心点，只要使用这个中心点的Normal……</p><p>对，我取不到这个点的Normal，所以不行。</p><h2 id="表情"><a href="#表情" class="headerlink" title="表情"></a>表情</h2><p>他们这也是挺骚的。</p><p>骨骼搞这么多，应该是没有BlendShape做的快的，性能也很抱歉。估计只有在特写时才会开启，那样还行。</p><p>BlendShape其实也可以复用的，用SkinWarp一类可以让眉毛睫毛模型跟随脸部一起运动，而脸大家都一样的。</p><p>组合也可以通过Mask。</p><p>硬要用骨骼搞……是为了减少资源量，或者是为了适应捏脸？</p><p>我是不懂了，反正也不做捏脸，应该不会这么搞。</p><p>也可能是方便做连续的表情动画吧，BlendShape只能做成多个关键帧，用骨骼调这个或许更方便点。</p><h2 id="特效"><a href="#特效" class="headerlink" title="特效"></a>特效</h2><p>做不透明的特效应该算是一种风格指导吧。（当然并不是全都是不透明的）</p><p>不过必须是不透明特效才有下面的事情。</p><p>它们更多使用了体积模型来作为特效的载体，而如果是透明特效……会有排序问题。</p><p>这个顶点移动具体怎么弄的还不清楚，总之是为了实现更加有体积感，而非片状的特效。</p><p>下面这个是个由多个Mesh进行插值变化的特效，GGX以前也常这么玩的</p><p>他们提到了一个使用不透明特效遇到的问题：多个特效叠加的时候特效遮挡太严重了。他们的方案是让特效移到远处有一个消隐的效果，应该是增加Cutout的值。</p><p>但效果也不算好吧，而网点抖动也可以做到让特效一定程度重叠。</p><p>估计他们就是要坚持这种不透明特效的感觉。</p><p>此外有一点我忘说了。不透明特效还有个好处是对taa更友好。taa的帧间混合是基于深度的，处理透明物体很容易瞎，表现出来是移动镜头透明度变低。为了避免这个问题需要让透明物体也写速度buffer，但透明物体覆盖住的物体就不行了，而它这种alphatest为主的方式就没这问题。</p><p>否则……估计只能放弃taa，那么高光边界就很难这么锐利而且没锯齿。那么就只能考虑模糊边界，或者想办法把msaa开起来，延迟部分就不好办。方案选择会有不少变化</p><h2 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h2><p>蓝色协议的场景其实基本就是写实场景，只做了一些微小的变化。它肯定不是最好的，但是目前的性价比不错。</p><p>他们基本走的就是传统PBR流程，模型法线什么都正常做。只是稍微调整了下基本色贴图。</p><p>走的也依然是Substance流程，只是专门设计了一些比较卡通的画笔，之后就用这些画笔铺量了。当然，设计这些画笔的时候还是要有一些“卡通化”设计的。AO的强度，大倒角，高饱和什么。但只要设计一次其他人就可以普通地执行了，能落地的方案，才有意义。</p><p>然后它说了一些其他的卡通化方法，首先是草：<br>根据距离改变草的颜色，远处的草纹理会变为纯色，而且变亮，加入云的阴影，增加草的运动<br>它还提到了给草地加入一些闪烁的两点，图上看不出来。</p><p>之后提到了SunFlare，应该是那个屏幕后处理效果。卡通渲染很依赖体积光，所以自然会有好的效果，假也没关系，假才是对的。</p><p>此外就是一个叫SNN的过滤器，谷歌搜SNN Filter就行了，我贴个shadertoy的地址。</p><p><a href="https://www.shadertoy.com/view/MlyfWd">https://www.shadertoy.com/view/MlyfWd</a></p><p>是SNN和Kuwahara的对比，左边那个是SNN。</p><p>EN，72采样，计算量可以忽略，跑应该还是能跑。</p><p>旁边的Kuwahara应该是个类似的算法，64采样。</p><p>可以考虑降低下width。</p><p>它还有一个调整阴影色的方案。近处蓝色，远处变为绿色。</p><p>因为大概还是在用延迟管线做场景，如果可以自由定义阴影色就意味着要添加两张GBuffer这太夸张了。我觉得就是根据深度值插值两个颜色，并乘到间接光或者天光上。</p>]]></content>
      
      
      <categories>
          
          <category> 游戏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏 </tag>
            
            <tag> 蓝色协议 </tag>
            
            <tag> 学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EVE工具</title>
      <link href="//post/EVE-Common-websites.html"/>
      <url>//post/EVE-Common-websites.html</url>
      
        <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a><span class='p cyan'>旗舰路线规划丨导航丨新伊甸地理</span></h2><a class="btn-anzhiyu " href="https://eve.sgfans.org/navigator/jump_path_layout"   title="旗舰路线规划"><span>旗舰路线规划</span></a><h2 id="-1"><a href="#-1" class="headerlink" title=""></a><p class='p green'>eve欧服官方00势力地图</p></h2><a class="btn-anzhiyu " href="https://sov.space/"   title="eve欧服官方势力地图"><span>eve欧服官方势力地图</span></a><h2 id="-2"><a href="#-2" class="headerlink" title=""></a><p class='p red'>KB网站</p></h2><a class="btn-anzhiyu " href="https://zkillboard.com"   title="KB网站"><span>KB网站</span></a><h2 id="-3"><a href="#-3" class="headerlink" title=""></a><p class='p blue'>宁静合同估价网站</p></h2><a class="btn-anzhiyu " href="https://janice.e-351.com/"   title="宁静合同估价网站"><span>宁静合同估价网站</span></a><h2 id="-4"><a href="#-4" class="headerlink" title=""></a><p class='p yellow'>宁静 晨曦 曙光 市场查询 成本计算等等</p></h2><a class="btn-anzhiyu " href="https://www.eve-overview.net/"   title="市场中心"><span>市场中心</span></a><h2 id="EVE工业"><a href="#EVE工业" class="headerlink" title="EVE工业"></a>EVE工业</h2><a class="btn-anzhiyu " href="https://eve.c3q.cc/industry/"   title="EVE工业网站"><span>EVE工业网站</span></a>]]></content>
      
      
      <categories>
          
          <category> 游戏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏 </tag>
            
            <tag> EVE Online </tag>
            
            <tag> 游戏辅助网站 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EVE种族——艾玛帝国</title>
      <link href="//post/EVE-Amarr.html"/>
      <url>//post/EVE-Amarr.html</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;作为EVE世界最大帝国的艾玛，其疆域囊括可居住星系的40％。艾玛皇帝是这个仪式化的、独裁的、王权至上的帝国的最高首领，位居于他之下的是五位继承人，他们是五个皇室家族的首领，从他们中间会甄选出新任皇帝。皇帝的权力是绝对的、毋庸置疑的，然而陈腐的官僚政府机制使得他很难完全行使他的权利，除非他亲自直接授命。另外，为皇帝所任命的五继承人统治着他们各自的领地，差不多瓜分了这个大帝国。皇帝和五继承人的寿命预计至少有500年。迅猛发展的计算机植入体技术可使他们即使在身体器官衰竭的情况之下仍然能够继续存活。这些计算机植入体的发展历程要追溯到上千年，现已成为艾玛人眼中君权神授的象征。作为一个具有显著宗教特征的民族，对每一个艾玛人来说，宗教都有着非常重要的意义，这种信仰在历史上不同的时期一直都是他们评判是非的准则。从EVE之门关闭后的困境中复苏后不久，他们便开始侵略邻国以扩大自己的领土。他们奴役自己征服的民族，而这恰恰是对他们宗教信仰的实施。从那以后，艾玛人开始奴役所碰到的每个国家和民族，如今，奴隶制度已成为构成艾玛社会基础的不可或缺的一部分。当然，他们的这种行为触怒了其它种族，特别是个人主义浓重的盖伦特人。<p><p>&emsp;&emsp;艾玛人是EVE世界中首个再次发现曲线跃迁技术的种族，特别是跳跃门技术。在2000多年前发现这项技术后，他们立刻开始侵占邻近的星系，开始徐徐而稳健地建立自己的帝国。在这个过程中，他们遇到了两个人类种族，他们也都无一例外地陷入被更加强大的艾玛人所奴役的命运。不过，近年来艾玛人遇到了激烈的抵抗。首先，他们碰上了盖伦特联邦。尽管盖伦特比艾玛帝国要小的多，但其经济和军事实力完全可与艾玛一较高下。不久之后，朱庇特人也横亘于艾玛的征服之路上，在艾玛人对其进行的毫无效果的侵略中，他们收获的是耻辱性的失败。更糟的是，受艾玛奴役几个世纪的米玛塔尔人也利用机会对其奴隶主发起起义。<p><p>&emsp;&emsp;这些发生于两个世纪前的重大事件使艾玛人开始学会收敛。他们放慢了扩张的脚步，与其他种族关系的态度也不再强硬，然而他们仍自视为EVE的最强种族，只要看看他们所拥有的绝对优势的人口数量。<p><p>&emsp;&emsp;艾玛继承人是五大皇族的最高领袖，是在帝国内除了皇室之外等级最高的人物。即使是皇帝本人，其权力也不能逾越中央地区深入到采邑之中。积重难返的官僚主义和半封建专制意味着地方贵族在极大多数的时间内享有高度自治权。皇族后裔就是这些贵族中最有权力的人。每个世袭家族拥有几十个星系这般辽阔的封地。艾玛继承人可以根据自己的喜好随心所欲改变他们的领域。其结果就是艾玛帝国成为一个融各种规章、风俗、传统于一体的拼合物。世袭后嗣的家族权利最早起源于约1500年前的道德革命运动，信徒议会的势力受到严格抑制。帝国的枢密院的建立——所谓的非官方政府，都可以追溯到那个时代，当时所有的继承人在枢密院中都享有席位。目前的四个后裔家族都是于道德革命期间中获得皇家地位的。卡尼迪家族被放逐以后最近才新增了第五个。这五个家族分别是：阿狄莎波家族，卡多尔家族，萨拉姆家族，柯埃佐家族和塔什蒙贡家族（新家族）。其中三个家族的后嗣将在后面介绍。阿狄莎波家族的首脑是尤尼斯·阿狄莎波，一个忠诚的战士和嗜好宗教史前古物器的收藏家，有些收藏品可以追溯到EVE星门关闭之前。萨拉姆家族正在商讨任命一个新继承人取代贾米尔·萨拉姆，家族星域由张伯伦集团暂为管理。<p>]]></content>
      
      
      <categories>
          
          <category> 游戏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏 </tag>
            
            <tag> EVE Online </tag>
            
            <tag> 游戏背景故事 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>蓝色协议事件</title>
      <link href="//post/Bandai%20Namco%20Launcher.html"/>
      <url>//post/Bandai%20Namco%20Launcher.html</url>
      
        <content type="html"><![CDATA[<h2 id="最近总结"><a href="#最近总结" class="headerlink" title="最近总结"></a>最近总结</h2><p>  2023年6月14号蓝色协议开服由于对外宣称类刀剑神域（刀剑神域动漫里面的SAO游戏）导致大规模玩家进入导致游戏服务器和启动器服务器的爆满导致了各种天花乱坠的报错。</p><p>  2023年6月16号上午10点第一批封号潮号然后12点开始维护到15点（日本时间13点至16点）（再次括号没有补偿！）</p><p>  2023年6月16号晚上5点30分第二波封号潮号再次玩家大批量封号，大多数玩家是海外玩家极少数是日本玩家但是在海外的日本玩家。</p><p>  2023年6月18号晚上6点第三波封号潮由于很多玩家创建新的账户来进入游戏估计是这样的原因促成了第三次封号潮。谁知道下一波是啥时候来呢。</p><p>  据了解这几次的封号潮主要是用户协议中仅在日本的玩家才能进入所以违反了此条规定进行大批量封禁，也有极少部分是因为加速节点上有人开挂被连坐的现象。受害范围主要是中文区，英文区。</p><p>  有趣的事件：B站有一位叫做大祥哥来了的up主知道这个游戏后火速进入游戏氪了将近3000块人民币结果没顶到16号晚上的封号潮被封号。之后又转生（创建新号，因为以新号进入游戏所以叫做转生）听说没过多久18号又被封禁又以500块钱买了个号来游玩。<br>  2023年6月20号左右 大祥哥雇了个人每个月3w练五个蓝色协议的号（我是真没想到啊）<br>Ps.谁知道下一波封号潮是在什么时候。<br>   2023年6月28号 最近封号潮好像已经过了自己的号也没有01069等封号的现象了</p>]]></content>
      
      
      <categories>
          
          <category> 游戏测评 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 游戏 </tag>
            
            <tag> 蓝色协议 </tag>
            
            <tag> 运营事故 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="//post/hello-world.html"/>
      <url>//post/hello-world.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new &quot;My New Post&quot;</code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a><br>1</p>]]></content>
      
      
      <categories>
          
          <category> 代码杂类 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>备忘录</title>
      <link href="//post/post.html"/>
      <url>//post/post.html</url>
      
        <content type="html"><![CDATA[<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>1<br>1<br>1<br>1<br>[链接例子《就是外在文字》](<a href="http://www.baidu.com/">http://www.baidu.com/</a>“ 我是说明文字：我其实就是HTML 的<a> 标签的 Title 属性”)<br>[Google]<br>[Google]: <a href="http://google.com/">http://google.com/</a><br>1<br>1</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 代码 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
